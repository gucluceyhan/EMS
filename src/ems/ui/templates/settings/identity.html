{% extends "base.html" %}

{% block title %}Identity & Security - GES Solar EMS{% endblock %}

{% block page_subtitle %}Identity & Security Settings{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-6 space-y-6">
  <h1 class="text-xl font-semibold">Kimlik & GÃ¼venlik</h1>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div class="bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 rounded-xl p-4">
      <h2 class="font-semibold mb-2">SSO Configuration</h2>
      <div class="space-y-3">
        <label class="text-sm">Protokol<select class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2"><option>OIDC</option><option>SAML</option></select></label>
        <label class="text-sm">Issuer/Metadata URL<input class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <label class="text-sm">Client ID<input class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <label class="text-sm">Client Secret (vault ref)<input placeholder="vault:secret/ems#oidc" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <button id="btnSaveSSO" class="px-3 py-2 rounded-md bg-blue-600 text-white">Kaydet</button>
      </div>
    </div>
    
    <div class="bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 rounded-xl p-4">
      <h2 class="font-semibold mb-2">Local Authentication</h2>
      <div class="space-y-3">
        <label class="text-sm">Username<input value="ems" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <label class="text-sm">Current Password<input type="password" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <label class="text-sm">New Password<input type="password" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <label class="text-sm">Confirm Password<input type="password" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-3 py-2" /></label>
        <button id="btnSavePassword" class="px-3 py-2 rounded-md bg-blue-600 text-white">Update Password</button>
      </div>
    </div>
  </div>

  <div class="bg-white dark:bg-gray-950 border border-gray-200 dark:border-gray-800 rounded-xl p-4">
    <h2 class="font-semibold mb-3">Security Policies</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 class="font-medium mb-2">Session Management</h3>
        <div class="space-y-2 text-sm">
          <label class="flex items-center gap-2"><input type="checkbox" checked />Force HTTPS</label>
          <label class="flex items-center gap-2"><input type="checkbox" checked />Secure Cookies</label>
          <label class="flex items-center gap-2"><input type="checkbox" />Remember Login</label>
          <label>Session Timeout (min)<input value="60" type="number" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-2 py-1" /></label>
        </div>
      </div>
      
      <div>
        <h3 class="font-medium mb-2">API Security</h3>
        <div class="space-y-2 text-sm">
          <label class="flex items-center gap-2"><input type="checkbox" checked />Bearer Token Required</label>
          <label class="flex items-center gap-2"><input type="checkbox" checked />Rate Limiting</label>
          <label class="flex items-center gap-2"><input type="checkbox" />IP Whitelist</label>
          <label>Rate Limit (req/min)<input value="100" type="number" class="w-full bg-transparent border border-gray-200 dark:border-gray-700 rounded-md px-2 py-1" /></label>
        </div>
      </div>
    </div>
  </div>

  <div class="flex items-center gap-2">
    <button id="btnSaveIdentity" class="px-3 py-2 rounded-md bg-brand-600 text-white">Save Settings</button>
    <button id="btnResetIdentity" class="px-3 py-2 rounded-md border border-gray-200 dark:border-gray-700">Reset</button>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Identity & Security specific JavaScript
  document.addEventListener('DOMContentLoaded', () => {
    // Initialize identity settings
  });
</script>
{% endblock %}